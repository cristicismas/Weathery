{"version":3,"sources":["components/Icon.js","constants/Icons.js","services/forecastWeather.js","services/api.js","services/coordinates.js","components/Header.js","components/Error.js","components/Switch.js","components/Card.js","services/dayName.js","components/WeatherCards.js","components/TemperatureChart.js","constants/Defaults.js","components/Map.js","components/Main.js","components/Footer.js","components/App.js","serviceWorker.js","index.js"],"names":["Icon","props","styles","svg","display","verticalAlign","path","fill","color","react_default","a","createElement","style","width","concat","size","height","viewBox","className","d","icon","defaultProps","ICONS","fetchForecastWeather","query","Promise","resolve","reject","method","data","axios","toLowerCase","then","res","catch","err","response","error","message","google","window","setCoordinatesByLocation","location","contextLocation","maps","Geocoder","geocode","address","results","status","GeocoderStatus","OK","newLat","geometry","lat","newLng","lng","changeGlobalState","Header","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onSubmit","bind","assertThisInitialized","e","bigScreen","matchMedia","target","matches","cursor","paddingLeft","paddingRight","document","getElementById","zIndex","_this2","preventDefault","searchInput","value","trim","forecastWeather","values","join","coordinates","id","type","onClick","onSearchClick","placeholder","components_Icon","Component","Error","Switch","onSwitchClick","isToggled","toggleContainer","clipPath","backgroundColor","changeToggledValue","Card","_this$props","day","maxTemp","minTemp","wind","precip","humidity","condition","conditionIconUrl","src","alt","getDayName","dateStr","locale","Date","toLocaleDateString","weekday","WeatherCards","state","days","prevProps","formattedWeather","i","length","dayName","date","mintemp","maxtemp","condition_icon","replace","push","setState","cardList","map","components_Card","key","TemperatureChart","temperatures","avgTemp","avgtemp","_this$state","chartData","labels","datasets","label","borderColor","borderWidth","es","options","hover","mode","elements","line","tension","DEFAULTS","LAT","LNG","LOCATION","Map","onMapClick","_this3","prevLocation","currentLocation","forceUpdate","nextProps","city","_this4","latLng","_this5","RenderedMap","withScriptjs","withGoogleMap","lib","defaultZoom","defaultCenter","position","googleMapURL","loadingElement","containerElement","mapElement","Main","isMetric","localStorage","getItem","formatWeather","changeSystem","prevState","isWeatherFetched","isSystemDifferent","isLocationDifferent","currentLoopWeather","mintemp_c","maxtemp_c","avgtemp_c","wind_kph","precip_mm","avghumidity","mintemp_f","maxtemp_f","avgtemp_f","wind_mph","precip_in","setItem","formattedLocation","region","country","components_Error","components_Switch","components_WeatherCards","components_TemperatureChart","components_Map","assign","Footer","href","rel","App","userIp","get","json","ip","defaultQuery","test","itemIdentifier","newItem","defineProperty","components_Header","components_Main","components_Footer","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","ReactDOM","render","components_App","URL","process","origin","addEventListener","fetch","headers","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.a32ae516.chunk.js","sourcesContent":["import React from 'react';\n\nconst Icon = props => {\n  const styles = {\n    svg: {\n      display: 'inline-block',\n      verticalAlign: 'middle'\n    },\n    path: {\n      fill: props.color,\n    },\n  };\n\n  return (\n    <svg\n      style={styles.svg}\n      width={`${props.size}px`}\n      height={`${props.size}px`}\n      viewBox='0 0 1024 1024'\n      className='svgIcon'\n    >\n      <path\n        style={styles.path}\n        d={props.icon}\n      ></path>\n    </svg>\n  );\n};\n\nIcon.defaultProps = {\n  size: 16\n};\n\nexport default Icon;","export const ICONS = {\n  SEARCH: 'M337.509 305.372h-17.501l-6.571-5.486c20.791-25.232 33.922-57.054 33.922-93.257C347.358 127.632 283.896 64 205.135 64 127.452 64 64 127.632 64 206.629s63.452 142.628 142.225 142.628c35.011 0 67.831-13.167 92.991-34.008l6.561 5.487v17.551L415.18 448 448 415.086 337.509 305.372zm-131.284 0c-54.702 0-98.463-43.887-98.463-98.743 0-54.858 43.761-98.742 98.463-98.742 54.7 0 98.462 43.884 98.462 98.742 0 54.856-43.762 98.743-98.462 98.743z'\n};","import { apiCall } from '../services/api.js';\n\nexport function fetchForecastWeather(query) {\n  return new Promise((resolve, reject) => {\n    apiCall('get', `forecast_weather/${query}`)\n      .then(res => {\n        resolve(res);\n      })\n      .catch(err => {\n        reject(err.message);\n      });\n  });\n}","import axios from 'axios';\n\nexport function apiCall(method, path, data) {\n  return new Promise((resolve, reject) => {\n    return axios[method.toLowerCase()](`https://weathery-server.herokuapp.com/api/${path}`, data)\n      .then(res => {\n        return resolve(res.data);\n      })\n      .catch(err => {\n        return reject(err.response.data.error);\n      });\n  });\n}","const google = window.google;\n\nexport function setCoordinatesByLocation(location, contextLocation) {\n  return new Promise((resolve, reject) => {\n    const geocoder = new google.maps.Geocoder();\n      \n    // Set latitude and longitude for given location name.\n    geocoder.geocode({ 'address': location }, (results, status) => {\n      if (status === google.maps.GeocoderStatus.OK) {\n        const newLat = results[0].geometry.location.lat();\n        const newLng = results[0].geometry.location.lng();\n  \n        // Remove error on a successful search.\n        contextLocation.changeGlobalState('error', null);\n\n        return resolve({ newLat, newLng });\n      } else {\n        // Sometimes google maps' api gives ZERO_RESULTS even when it finds results, so ignore this error.\n        if (status === 'ZERO_RESULTS') {\n          contextLocation.changeGlobalState('error', null);\n        } else {\n          contextLocation.changeGlobalState('error', status);\n        }\n      }\n    });\n  });\n}","import React, { Component } from 'react';\nimport Icon from './Icon';\nimport '../css/Header.css';\n\nimport { ICONS } from '../constants/Icons.js';\n\nimport { fetchForecastWeather } from '../services/forecastWeather.js';\nimport { setCoordinatesByLocation } from '../services/coordinates.js';\n\nclass Header extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  // Animate search bar.\n  onSearchClick(e) {\n    const bigScreen = window.matchMedia('(min-width: 800px)');\n\n    const elementWidth = e.target.style.width;\n\n    if (elementWidth !== '400px' && bigScreen.matches) {\n      e.target.style.width = '400px';\n      e.target.style.cursor = 'text';\n      e.target.style.paddingLeft = '25px';\n      e.target.style.paddingRight = '50px';\n      \n      const submitButton = document.getElementById('search-btn');\n      submitButton.style.zIndex = 10;\n    }\n  }\n\n  // Search for given query\n  onSubmit(e) {\n    e.preventDefault();\n    const searchInput = document.getElementById('search-input');\n\n    if (searchInput.value.trim()) {\n      const searchQuery = searchInput.value;\n\n      // Fetch weather by new query.\n      fetchForecastWeather(searchQuery).then(forecastWeather => {\n        const newLocation = Object.values(forecastWeather[0]).join(', ');\n\n        // Set location coordinates in global state.\n        setCoordinatesByLocation(newLocation, this.props).then(coordinates => {\n          this.props.changeGlobalState('forecastWeather', forecastWeather);\n          this.props.changeGlobalState('lat', coordinates.newLat);\n          this.props.changeGlobalState('lng', coordinates.newLng);\n  \n          // Reset error.\n          this.props.changeGlobalState('error', '');\n        });\n      }).catch(err => this.props.changeGlobalState('error', err));\n\n      // Reset Input Field.\n      searchInput.value = '';\n    } else {\n      this.props.changeGlobalState('error', 'Please write something in the search bar before attempting to search.');\n    }\n  }\n\n  render() {\n    return (\n      <section id='header'>\n        <form id='search-form'>\n          <h1 id='header-title'>Weathery</h1>\n\n          <div className='container'>\n            <input id='search-input' type='text' onClick={this.onSearchClick} placeholder='City name, zip / postal / postcode or IP address.' />\n\n            <input type='submit' id='search-btn' value='' onClick={this.onSubmit} />\n            <Icon icon={ICONS.SEARCH} color='#333' size='40' />\n          </div>\n        </form>\n      </section>\n    );\n  }\n}\n\nexport default Header;","import React, { Component } from 'react';\nimport '../css/Error.css';\n\nclass Error extends Component {\n  render() {\n    const { error } = this.props;\n    if (error) {\n      return (\n        <div className='error-container'>\n          <p className='error'>{error}</p>\n        </div>\n      );\n    } else {\n      return null\n    }\n  }\n}\n\nexport default Error;","import React, { Component } from 'react';\nimport '../css/Switch.css';\n\nclass Switch extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onSwitchClick = this.onSwitchClick.bind(this);\n  }\n\n  componentDidMount() {\n    let { isToggled } = this.props;\n\n    let toggleContainer = document.getElementById('toggle-container');\n\n    if (!isToggled) {\n      toggleContainer.style.clipPath = 'inset(0 0 0 50%)';\n      toggleContainer.style.backgroundColor = 'orange';\n    } else {\n      toggleContainer.style.clipPath = 'inset(0 50% 0 0)';\n      toggleContainer.style.backgroundColor = 'dodgerblue';\n    }\n  }\n\n  onSwitchClick() {\n    let { isToggled } = this.props;\n\n    let toggleContainer = document.getElementById('toggle-container');\n\n    this.props.changeToggledValue(!isToggled);\n\n    if (isToggled) {\n      toggleContainer.style.clipPath = 'inset(0 0 0 50%)';\n      toggleContainer.style.backgroundColor = 'orange';\n    } else {\n      toggleContainer.style.clipPath = 'inset(0 50% 0 0)';\n      toggleContainer.style.backgroundColor = 'dodgerblue';\n    }\n  }\n\n  render() {\n    return (\n      <div id=\"switch-container\" onClick={this.onSwitchClick} >\n        <div className=\"inner-container\">\n          <div className=\"toggle\">\n            <p>Imperial</p>\n          </div>\n          <div className=\"toggle\">\n            <p>Metric</p>\n          </div>\n        </div>\n\n        <div className=\"inner-container\" id='toggle-container'>\n          <div className=\"toggle\">\n            <p>Imperial</p>\n          </div>\n          <div className=\"toggle\">\n            <p>Metric</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Switch;","import React, { Component } from 'react';\nimport '../css/Card.css';\n\nclass Card extends Component {\n  render() {\n    const { day, maxTemp, minTemp, wind, precip, humidity, condition, conditionIconUrl } = this.props;\n\n    return (\n      <div className='card'>\n        <h3 className='day-name'>{day}</h3>\n        <img className='card-img' src={conditionIconUrl} alt={condition} />\n\n        <h3 className='temp-range'>{minTemp}&#176; / {maxTemp}&#176;</h3>\n\n        <div className='weather-info'>\n          <div className='wind'><span>Wind:</span> <span className='weather-value'>{wind}</span></div>\n          <div className='precip'><span>Precipitations:</span> <span className='weather-value'>{precip}</span></div>\n          <div className='hum'><span>Humidity:</span> <span className='weather-value'>{humidity}</span></div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Card;","export function getDayName(dateStr, locale) {\n  var date = new Date(dateStr);\n  return date.toLocaleDateString(locale, { weekday: 'long' });        \n}","import React, { Component } from 'react';\nimport Card from './Card';\nimport '../css/WeatherCard.css';\n\nimport { getDayName } from '../services/dayName.js';\n\nclass WeatherCards extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      days: []\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    const { formattedWeather } = this.props;\n\n    let days = [];\n\n    if (prevProps.formattedWeather !== formattedWeather) {\n\n      for (let i = 0; i < formattedWeather.length; i++) {\n        // Get day.\n        const currentDate = formattedWeather[i].date;\n        const dayName = getDayName(currentDate);\n\n        // Get weather info.\n        const minTemp = formattedWeather[i].mintemp;\n        const maxTemp = formattedWeather[i].maxtemp;\n        const wind = formattedWeather[i].wind;\n        const precip = formattedWeather[i].precip;\n        const humidity = formattedWeather[i].humidity;\n\n        // Get condition and icon\n        const condition = formattedWeather[i].condition;\n\n        // Prefix url with 'https:' and change 64 res with 128.\n        const conditionIconUrl = 'https:' + formattedWeather[i].condition_icon.replace(/64/g, '128');\n\n        // Do this instead of pushing to the state's array because react's state should be immutable.\n        days.push({\n          dayName,\n          maxTemp, \n          minTemp, \n          wind, \n          precip, \n          humidity,\n          condition,\n          conditionIconUrl\n        });\n      }\n\n      this.setState({ days });\n    }\n  }\n\n  render() {\n    const { days } = this.state;\n\n    const cardList = days.map(day => {\n      return (\n        <Card\n          key={day.dayName}\n          day={day.dayName}\n          maxTemp={day.maxTemp}\n          minTemp={day.minTemp}\n          wind={day.wind}\n          precip={day.precip}\n          humidity={day.humidity}\n          condition={day.condition}\n          conditionIconUrl={day.conditionIconUrl} />\n      );\n    });\n\n    return (\n      <section id='weather-cards'>\n        { cardList }\n      </section>\n    );\n  }\n}\n\nexport default WeatherCards;","import React, { Component } from 'react';\nimport { Line } from 'react-chartjs-2';\n\nimport { getDayName } from '../services/dayName.js';\n\nclass TemperatureChart extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      days: [],\n      temperatures: []\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    const { formattedWeather } = this.props;\n\n    let days = [];\n    let temperatures = [];\n\n    if (prevProps.formattedWeather !== formattedWeather) {\n\n      // Starts from 1 because formattedWeather[0] has location info.\n      for (let i = 0; i < formattedWeather.length; i++) {\n        // Get day.\n        const currentDate = formattedWeather[i].date;\n        const dayName = getDayName(currentDate);\n\n        // Get temperature.\n        const avgTemp = formattedWeather[i].avgtemp;\n\n        days.push(dayName);\n        temperatures.push(avgTemp);\n      }\n\n      this.setState({ days, temperatures });\n    }\n  }\n\n  render() {\n    const { days, temperatures } = this.state;\n\n    // Get chart data\n    const chartData = {\n      labels: days,\n      datasets: [\n        {\n          label: 'Temperature',\n          backgroundColor: 'rgba(0, 0, 0, 0)',\n          borderColor: '#227df4',\n          borderWidth: 2,\n          data: temperatures\n        }\n      ]\n    };\n\n    const chartOptions = {\n      hover : { mode: null },\n      elements: {\n        line: {\n          tension: 0\n        }\n      }\n    };\n\n    return (\n      <div className='chart-container'>\n        <Line data={chartData} options={chartOptions} />\n      </div>\n    );\n  }\n}\n\nexport default TemperatureChart;","export const DEFAULTS = {\n  LAT: 48.8534100,\n  LNG: 2.3488000,\n  LOCATION: 'Paris'\n};","import React, { Component } from 'react';\nimport { withScriptjs, withGoogleMap, GoogleMap, Marker } from 'react-google-maps';\n\nimport { fetchForecastWeather } from '../services/forecastWeather.js';\nimport { setCoordinatesByLocation } from '../services/coordinates.js';\n\nimport { DEFAULTS } from '../constants/Defaults.js';\n\nclass Map extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onMapClick = this.onMapClick.bind(this);\n  }\n\n  componentDidMount() {\n    setCoordinatesByLocation(DEFAULTS.LOCATION, this.props).then(coordinates => {\n      this.props.changeGlobalState('lat', coordinates.newLat);\n      this.props.changeGlobalState('lng', coordinates.newLng);\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    const { forecastWeather } = this.props;\n\n    const prevLocation = prevProps.forecastWeather.length ? Object.values(prevProps.forecastWeather[0]).join(', ') : DEFAULTS.LOCATION;\n    const currentLocation = forecastWeather.length ? Object.values(forecastWeather[0]).join(', ') : DEFAULTS.LOCATION;\n\n    if (prevLocation !== currentLocation) {\n      setCoordinatesByLocation(currentLocation, this.props).then(coordinates => {\n        this.props.changeGlobalState('lat', coordinates.newLat);\n        this.props.changeGlobalState('lng', coordinates.newLng);\n        this.forceUpdate();\n      });\n    }\n  }\n\n  shouldComponentUpdate(nextProps) {\n    const { forecastWeather } = this.props;\n    \n    const currentCity = forecastWeather.length ? forecastWeather[0].city : DEFAULTS.LOCATION;\n    const nextCity = nextProps.forecastWeather.length ? nextProps.forecastWeather[0].city : DEFAULTS.LOCATION;\n\n    if (currentCity === nextCity) {\n      return false;\n    }\n\n    return true;\n  }\n\n  onMapClick(e) {\n    const newLat = e.latLng.lat();\n    const newLng = e.latLng.lng();\n\n    fetchForecastWeather(`${newLat},${newLng}`).then(forecastWeather => {\n      const newLocation = Object.values(forecastWeather[0]).join(', ');\n      \n      setCoordinatesByLocation(newLocation, this.props).then(coordinates => {\n        this.props.changeGlobalState('forecastWeather', forecastWeather);\n        this.props.changeGlobalState('lat', coordinates.newLat);\n        this.props.changeGlobalState('lng', coordinates.newLng);\n\n        // Reset error.\n        this.props.changeGlobalState('error', '');\n\n        this.forceUpdate();\n      });\n    }).catch(err => this.props.changeGlobalState('error', err));\n  }\n\n  render() {\n    const { lat, lng } = this.props;\n\n    const RenderedMap = withScriptjs(withGoogleMap(props => \n      <GoogleMap defaultZoom={5} defaultCenter={{ lat, lng }} onClick={this.onMapClick}>\n        <Marker position={{ lat, lng }} />\n      </GoogleMap>\n    ));\n\n    return (\n      <div id='map'>\n        <RenderedMap \n          googleMapURL='https://maps.googleapis.com/maps/api/js?key=AIzaSyCYGAkeDkpAFR4l3bZ9x3BdTwXGlJrHQcI'\n          loadingElement={<div style={{ width: `100%` }} />}\n          containerElement={<div style={{ height: `100%` }} />}\n          mapElement={<div style={{ height: `100%` }} />} />\n      </div>\n    );\n  }\n}\n\nexport default Map;","import React, { Component } from 'react';\nimport Error from './Error';\nimport Switch from './Switch';\nimport WeatherCards from './WeatherCards';\nimport TemperatureChart from './TemperatureChart';\nimport Map from './Map';\nimport '../css/Main.css';\n\n\nclass Main extends Component {\n  constructor(props) {\n    super(props);\n\n    let isMetric = true;\n\n    // Check localStorage for last isMetric value\n    // Compares with string because that's how values are stored in localStorage\n    if (localStorage.getItem('isMetric') === 'false') {\n      isMetric = false;\n    }\n\n    this.state = { \n      formattedWeather: [],\n      isMetric \n    };\n\n    this.formatWeather = this.formatWeather.bind(this);\n    this.changeSystem = this.changeSystem.bind(this);\n  }\n\n  componentDidMount() {\n    this.formatWeather();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const isWeatherFetched = prevProps.forecastWeather.length !== this.props.forecastWeather.length;\n    const isSystemDifferent = prevState.isMetric !== this.state.isMetric;\n    \n    const isLocationDifferent = \n      prevProps.forecastWeather.length ? \n      prevProps.forecastWeather[0].city !== this.props.forecastWeather[0].city : \n      false;\n\n    if (isWeatherFetched || isSystemDifferent || isLocationDifferent) {\n      this.formatWeather();\n    }\n  }\n\n  formatWeather() {\n    const { isMetric } = this.state;\n    const { forecastWeather } = this.props;\n\n    let formattedWeather = [];\n\n    // Starts from 1 because forecastWeather[0] has location info\n    for (let i = 1; i < forecastWeather.length; i++) {\n      const currentLoopWeather = forecastWeather[i];\n\n      if (isMetric) {\n        formattedWeather.push({\n          date: currentLoopWeather.date,\n          mintemp: currentLoopWeather.mintemp_c + ' C',\n          maxtemp: currentLoopWeather.maxtemp_c + ' C',\n          avgtemp: currentLoopWeather.avgtemp_c,\n          wind: currentLoopWeather.wind_kph + ' kph',\n          precip: currentLoopWeather.precip_mm + ' mm',\n          humidity: currentLoopWeather.avghumidity + ' %',\n          condition: currentLoopWeather.condition,\n          condition_icon: currentLoopWeather.condition_icon\n        });\n      } else {\n        formattedWeather.push({\n          date: currentLoopWeather.date,\n          mintemp: currentLoopWeather.mintemp_f + ' F',\n          maxtemp: currentLoopWeather.maxtemp_f + ' F',\n          avgtemp: currentLoopWeather.avgtemp_f,\n          wind: currentLoopWeather.wind_mph + ' mph',\n          precip: currentLoopWeather.precip_in + ' in',\n          humidity: currentLoopWeather.avghumidity + ' %',\n          condition: currentLoopWeather.condition,\n          condition_icon: currentLoopWeather.condition_icon\n        });\n      }\n    }\n\n    this.setState({ formattedWeather });\n  }\n\n  changeSystem(isMetric) {\n    localStorage.setItem('isMetric', isMetric);\n    this.setState({ isMetric });\n  }\n\n  render() {\n    const { isMetric, formattedWeather } = this.state;\n    const { error, forecastWeather } = this.props;\n    \n    const currentLocation = forecastWeather[0];\n\n    let formattedLocation = '';\n\n    // Format location data\n    if (currentLocation) {\n      if (currentLocation.city) formattedLocation += `${currentLocation.city}, `;\n      if (currentLocation.region) formattedLocation += `${currentLocation.region}, `;\n      if (currentLocation.country) formattedLocation += `${currentLocation.country}`;\n    }\n\n    return (\n      <section id='main'>\n        <Error error={error} />\n        \n        <Switch isToggled={isMetric} changeToggledValue={this.changeSystem} />\n\n        <h2 className='location'>{formattedLocation}</h2>\n\n        <WeatherCards formattedWeather={formattedWeather} />\n\n        <div className='flex-container'>\n          <TemperatureChart formattedWeather={formattedWeather} />\n          <Map changeGlobalState={this.props.changeGlobalState} forecastWeather={forecastWeather} {...this.props} />\n        </div>\n\n      </section>\n    );\n  }\n}\n\nexport default Main;","import React, { Component } from 'react';\nimport '../css/Footer.css';\n\nclass Footer extends Component {\n  render() {\n    return (\n      <section id='footer'>\n        <p>Weather data from <a href='https://www.apixu.com/' target='_blank' rel=\"noopener noreferrer\">APIXU</a></p>\n        <p>Made by <a href='https://cristicismas.github.io/' target='_blank' rel=\"noopener noreferrer\">Cristi Cismas</a></p>\n      </section>\n    );\n  }\n}\n\nexport default Footer;","import React, { Component } from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport '../css/App.css';\n\nimport { DEFAULTS } from '../constants/Defaults.js';\n\nimport { fetchForecastWeather } from '../services/forecastWeather.js';\nimport { setCoordinatesByLocation } from '../services/coordinates.js';\n\nimport axios from 'axios';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error: '',\n      userIp: '',\n      forecastWeather: [],\n      lat: DEFAULTS.LAT,\n      lng: DEFAULTS.LNG\n    };\n\n    this.changeGlobalState = this.changeGlobalState.bind(this);\n  }\n\n  componentWillMount() {\n    axios.get(`https://api.ipify.org?format=json`).then(json => {\n      localStorage.setItem('userIp', json.data.ip);\n    });\n  }\n\n  componentDidMount() {\n    let defaultQuery = DEFAULTS.LOCATION;\n\n    const ipRegex = /^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/;\n    const userIp = localStorage.getItem('userIp');\n\n    if (userIp && ipRegex.test(userIp)) {\n      defaultQuery = userIp;\n      this.setState({ userIp });\n    }\n\n    fetchForecastWeather(defaultQuery).then(forecastWeather => {\n      const newLocation = Object.values(forecastWeather[0]).join(', ');\n      \n      setCoordinatesByLocation(newLocation, this).then(coordinates => {\n        this.setState({ \n          forecastWeather: forecastWeather, \n          lat: coordinates.newLat,\n          lng: coordinates.newLng,\n          error: ''\n        });\n      });\n    }).catch(err => {\n      this.setState({ error: err });\n    })\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { forecastWeather } = this.state;\n\n    const prevLocation = prevState.forecastWeather.length ? Object.values(prevState.forecastWeather[0]).join(', ') : DEFAULTS.LOCATION;\n    const currentLocation = forecastWeather.length ? Object.values(forecastWeather[0]).join(', ') : DEFAULTS.LOCATION;\n\n    if (prevLocation !== currentLocation) {\n      this.forceUpdate();\n    }\n  }\n\n  changeGlobalState(itemIdentifier, newItem) {\n    this.setState({ [itemIdentifier]: newItem });\n  }\n\n  render() {\n    return (\n      <div className='App'>\n        <Header \n          changeGlobalState={this.changeGlobalState} />\n\n        <Main \n          changeGlobalState={this.changeGlobalState} \n          {...this.state} />\n\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default App;","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n\n              // Execute callback\n              if (config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\nserviceWorker.register();\n"],"sourceRoot":""}